<svg xmlns="http://www.w3.org/2000/svg" width="960" height="560" viewBox="0 0 960 560">
  <style>
    .layer { fill:#f9fafb; stroke:#1a202c; stroke-width:1.2; rx:8; ry:8; }
    .title { font:600 16px "Helvetica Neue", Arial, sans-serif; fill:#1a202c; }
    .text { font:13px "Helvetica Neue", Arial, sans-serif; fill:#374151; }
    .arrow { stroke:#1a202c; stroke-width:1.3; marker-end:url(#arrow); }
  </style>
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="7" markerHeight="7" orient="auto">
      <path d="M0,0 L10,5 L0,10 Z" fill="#1a202c" />
    </marker>
  </defs>

  <!-- External client -->
  <rect x="40" y="220" width="120" height="100" class="layer" fill="#edf2f7"/>
  <text x="100" y="250" text-anchor="middle" class="title">å¤–éƒ¨å®¢æˆ·ç«¯</text>
  <text x="100" y="272" text-anchor="middle" class="text">(Browser / API)</text>

  <!-- Gateway Layer -->
  <rect x="200" y="160" width="240" height="220" class="layer" fill="#e1efff"/>
  <text x="320" y="190" text-anchor="middle" class="title">è¾¹ç¼˜ç½‘å…³å±‚</text>
  <text x="320" y="215" text-anchor="middle" class="text">Ingress / Gateway API</text>
  <text x="320" y="245" text-anchor="middle" class="text">- TLS ç»ˆæ­¢</text>
  <text x="320" y="265" text-anchor="middle" class="text">- é€Ÿç‡é™åˆ¶</text>
  <text x="320" y="285" text-anchor="middle" class="text">- è·¯å¾„è·¯ç”±</text>
  <text x="320" y="305" text-anchor="middle" class="text">- å®‰å…¨é˜²æŠ¤ (WAF / DDoS)</text>

  <!-- Service Mesh Layer -->
  <rect x="480" y="120" width="420" height="300" class="layer" fill="#fff8dc"/>
  <text x="690" y="150" text-anchor="middle" class="title">å†…éƒ¨æœåŠ¡æ²»ç†å±‚</text>
  <text x="690" y="175" text-anchor="middle" class="text">Service Mesh / Kubernetes Service</text>
  <text x="690" y="205" text-anchor="middle" class="text">- æœåŠ¡å‘ç°ä¸æ‹“æ‰‘æ„ŸçŸ¥</text>
  <text x="690" y="225" text-anchor="middle" class="text">- ç†”æ–­ä¸é‡è¯•</text>
  <text x="690" y="245" text-anchor="middle" class="text">- mTLS åŒå‘è®¤è¯</text>
  <text x="690" y="265" text-anchor="middle" class="text">- A/B æµ‹è¯•ä¸æµé‡æ‹†åˆ†</text>

  <!-- Internal Services -->
  <rect x="520" y="310" width="120" height="70" class="layer" fill="#ffffff"/>
  <text x="580" y="340" text-anchor="middle" class="title">Service A</text>

  <rect x="680" y="310" width="120" height="70" class="layer" fill="#ffffff"/>
  <text x="740" y="340" text-anchor="middle" class="title">Service B</text>

  <rect x="840" y="310" width="60" height="70" class="layer" fill="#ffffff"/>
  <text x="870" y="340" text-anchor="middle" class="title">DB</text>

  <!-- Arrows -->
  <line x1="160" y1="270" x2="200" y2="270" class="arrow"/>
  <line x1="440" y1="270" x2="520" y2="340" class="arrow"/>
  <line x1="640" y1="345" x2="680" y2="345" class="arrow"/>
  <line x1="800" y1="345" x2="840" y2="345" class="arrow"/>

  <!-- Security boundary -->
  <line x1="200" y1="400" x2="900" y2="400" stroke="#2563eb" stroke-dasharray="5,4"/>
  <text x="550" y="420" text-anchor="middle" class="text" fill="#2563eb">å®‰å…¨ä¸èŒè´£è¾¹ç•Œ</text>

  <!-- Legend -->
  <rect x="60" y="460" width="840" height="80" class="layer" fill="#ffffff"/>
  <text x="80" y="485" class="title">ç­–ç•¥å¯¹æ¯”ï¼š</text>
  <text x="100" y="505" class="text">ğŸ”¹ ç½‘å…³å±‚ï¼šå…¥å£é™æµ Â· TLS ç»ˆæ­¢ Â· å…¨å±€é˜²æŠ¤</text>
  <text x="100" y="525" class="text">ğŸ”¹ å†…éƒ¨å±‚ï¼šç†”æ–­é‡è¯• Â· mTLS Â· æ‹“æ‰‘æ„ŸçŸ¥è·¯ç”± Â· ç²¾ç»†æµé‡æ²»ç†</text>
</svg>
